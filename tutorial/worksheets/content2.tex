\section*{NAIL062 P\&P Logic: Worksheet 2 -- Semantics, properties of theories}
% after Lecture 2

\subsection*{Teaching goals:} After completing, the student

    \begin{itemize}\setlength{\itemsep}{0pt}
        \item understands the notions of propositional logic semantics (truth value, truth function, model, validity, tautology, inconsistency, independence, satisfiability, equivalence), can formally define them and provide examples
        \item can decide whether a set of logical connectives is universal
        \item knows the terminology for propositions in CNF and DNF
        \item can convert a given proposition or a finite theory into CNF and DNF, both using the set of models and using equivalent transformations
        \item understands the terminology of properties of theories (inconsistent, consistent/satisfiable, complete, consequences, $T$-equivalence), can define them formally and give examples
        \item understands the notion of [simple, conservative] extension, can formally define them and provide examples
        \item in a concrete case, can decide whether the case is a [simple, conservative] extension, and justify it both from the definition and using the semantic criterion
    \end{itemize}



\section*{In-class problems}


\begin{problem}

    Give an example of a proposition in the language $\mathbb P=\{p,q,r\}$ that is (a) valid (b) contradictory, (c) independent, (d) equivalent to $(p\wedge q)\to\neg r$, (e) has exactly the models $\{(1,0,0),(1,0,1),(0,0,1)\}$.


    \begin{solution}
        For example: (a) $p\lor\neg p$, (b) $p\land\neg p$, (c) $p$, (d) $\neg p\lor\neg q\lor\neg r$, (e) $(p\lor r)\land\neg q$            
    \begin{flushright}\qedsymbol\end{flushright}
    \end{solution}

\end{problem}


\begin{problem} 
    
    Are these sets of logical connectives universal? (a) $\{\vee, \rightarrow, \leftrightarrow\}$, (b) $\{\downarrow\}$ where $\downarrow$ is the Peirce arrow (NOR).    

    \begin{solution}
        \begin{enumerate}[(a)]
            \item No; prove by structural induction that every proposition has $(1,\dots,1)$ as a model. 
            \item Yes; we use the fact that $\{\neg,\lor,\land\}$ is universal, and express:
            \begin{itemize}
                \item $\neg x\sim x\downarrow x$
                \item $x\lor y\sim\neg(x\downarrow y)\sim (x\downarrow y)\downarrow(x\downarrow y)$
                \item $x\land y\sim \neg(\neg x\lor \neg y)\sim \neg x\downarrow\neg y\sim (x\downarrow x)\downarrow(y\downarrow y)$
            \end{itemize}
        \end{enumerate}            
    \end{solution}

\end{problem}


\begin{problem} 
    
    Convert the following proposition to CNF and to DNF. Do this (a) semantically (using a truth table), (b) via equivalent transformations:
    $$
    (\neg p \vee q)\to (\neg q \wedge r)
    $$

    \begin{solution}
        \begin{enumerate}[(a)]
            \item First find the models of the proposition: $\{(0,0,1),(1,0,0),(1,0,1)\}$. Describe each model by one elementary conjunction:
            $$
            (\neg p\land \neg q\land r)\lor
            (p\land \neg q\land \neg r)\lor
            (p\land \neg q\land r)
            $$
            CNF is obtained from the set of non-models, where each clause forbids one non-model:
            \begin{gather*}
                \{(0,0,0),(0,1,0),(0,1,1),(1,1,0),(1,1,1)\}\\
                (p\lor q\lor r)\land
                (p\lor \neg q\lor r)\land
                (p\lor \neg q\lor \neg r)\land
                (\neg p\lor \neg q\lor r)\land
                (\neg p\lor \neg q\lor \neg r)
            \end{gather*} 
            
            \item $(\neg p \vee q)\to (\neg q \wedge r)\sim \neg (\neg p \vee q)\lor (\neg q \wedge r)
            \sim (p \wedge \neg q)\lor (\neg q \wedge r)
            $ is a DNF; CNF is obtained by distribution, and then simplified: $(p\lor \neg q)\land (p\lor r)\land (\neg q\lor\neg q)\land (\neg q\lor r)\sim (p\lor r)\land \neg q$
        \end{enumerate}
            
    \end{solution}
        
\end{problem}


\begin{problem}\label{problem:properties-of-theories}

    Let $T=\{p\liff q,\neg p\to\neg q,q\lor r\}$ be a theory in the language $\mathbb P=\{p,q,r\}$.
    \begin{enumerate}[(a)]
        \item Decide whether the theory $T$ is [inconsistent/satisfiable/complete].
        \item Give an example of a proposition $\varphi$ that is [true/false/independent] in $T$.
        \item Give an example of an extension $T'$ of the theory $T$ (if it exists, and if possible not equivalent to $T$) that is [simple / conservative / complete / conservative simple / complete simple / complete conservative]. Also give an example of an extension $T'$ of the theory $T$ that is neither conservative nor simple.
        \item Using your example extensions, show that the semantic criterion holds (i.e., the statement defining the notion of a [conservative] extension using expansions/reducts of models).
    \end{enumerate}

    \begin{solution}
        We will need to know the models: $\M(T)=\{(0,0,1),(1,1,0),(1,1,1)\}$
        \begin{enumerate}[(a)]
            \item It is not inconsistent, it is satisfiable, it is not complete.
            \item In the theory $T$, for example, $p\lor r$ is true, $\neg q\land\neg r$ is false, $p\lor q$ is independent.  
            \item Let us give examples or justify non-existence:
            \begin{enumerate}[1.]
                \item Simple: $\{p\land q\}$
                \item Conservative: $T_2=\{(p\land q)\lor(\neg p\land\neg q), p\lor q\lor r,p\lor s\}$ in the language $\mathbb P'=\{p,q,r,s\}$
                \item Complete: $\{\neg p,\neg q,r,\neg s\}$ in the language $\mathbb P'=\{p,q,r,s\}$
                \item Conservative simple: must be equivalent to $T$, e.g., $\{(p\land q)\lor(\neg p\land\neg q), p\lor q\lor r\}$
                \item Complete simple: $\{p,q,\neg r\}$
                \item Complete conservative: does not exist; a non-complete theory cannot have a complete conservative extension (prove this).
                \item Neither conservative nor simple: $\{p\land q,r\lor s\}$ in the language $\mathbb P'=\{p,q,r,s\}$.
            \end{enumerate}
            \item Construct the corresponding sets of models and verify the condition; we show it only for 2.:
            $$
            \M_{\mathbb P'}(T_2)=\{(0,0,1,1),(1,1,0,0),(1,1,0,1),(1,1,1,0),(1,1,1,1)\}
            $$
            We see that restricting the models of $T_2$ to the language $\mathbb P$ yields only models of $T$, so it is an extension; and every model of $T$ can be expanded to some model of $T_2$, hence the extension is conservative.
        \end{enumerate}
            
    \end{solution}
    
\end{problem}


\begin{problem}

    Prove or refute (or state the correct relationship) that for every theory $T$ and propositions $\varphi$, $\psi$ in the language $\mathbb{P}$ the following hold:
    \begin{enumerate}[(a)]
        \item $T \models \varphi$ \ \ iff \ \ $T \not\models \neg \varphi$
        \item $T \models \varphi$ and $T \models \psi$ \ \ iff \ \ $T \models \varphi \wedge \psi$
        \item $T \models \varphi$ or $T \models \psi$ \ \ iff \ \ $T \models \varphi \vee \psi$
        \item $T \models \varphi \to \psi$ and $T \models \psi \to \chi$ \ \ iff \ \ $T \models \varphi \to \chi$
    \end{enumerate}

    \begin{solution} 
        We give only the correct answers and counterexamples; prove them yourself (from the definitions).      
        \begin{enumerate}[(a)]
            \item False, e.g., for $T=p\lor q,\ \varphi=p$. (If $T$ is consistent, the direction $\Rightarrow$ holds.)
            \item True.
            \item False, e.g., for $T=p\lor q,\ \varphi=p,\ \psi=q$. The direction $\Rightarrow$ holds.
            \item False, e.g., for $T=\{p\limplies r\},\ \varphi=p,\ \psi=q,\ \chi=r$. The direction $\Rightarrow$ holds. 
        \end{enumerate}              
    \end{solution}
    
\end{problem}



\section*{Extra practice}


\begin{problem}
        
    Let $T=\{\neg q \to (\neg p \vee q),\ \neg p \to q,\ r \to q\}$ be a theory in the language $\{p, q, r\}$.
    \begin{enumerate}[(a)]
        \item Give an example of the following: a proposition valid in $T$, inconsistent with $T$, independent in $T$, satisfiable in $T$, and a pair of $T$-equivalent propositions.
        \item Which of these are valid, contradictory, independent, satisfiable in $T$? $T$-equivalent? 
        $$
        p, \ \neg q, \ \neg p\vee q, \ p\to r,\ \neg q\to r, \ p\vee q\vee r
        $$
    \end{enumerate}

\end{problem}


\begin{problem} 
    
    Are the following sets of logical connectives universal? Justify your answer.
     
    (a) $\{\vee, \wedge, \rightarrow\}$ \hfill (b) $\{\uparrow\}$ where $\uparrow$ is the Sheffer stroke (NAND)

\end{problem}


\begin{problem} 
        
    Find the set of models of the given proposition. Use that it is in DNF or CNF.
    \begin{enumerate}[(a)]
        \item $(\neg p_1 \wedge \neg p_2)\vee( \neg p_1 \wedge p_2)\vee( p_1 \wedge \neg p_2)\vee( p_2 \wedge \neg p_3)$
        \item $(\neg p_1 \vee \neg p_2)\wedge( \neg p_1 \vee p_2)\wedge( p_1 \vee \neg p_2)\wedge( p_2 \vee \neg p_3)$
    \end{enumerate}

\end{problem}


\begin{problem} 
    
    Convert to CNF and DNF by both methods: $(\neg p \to (\neg q \to r))\to p$
    
\end{problem}


\begin{problem} 
    
    Find the (shortest possible) CNF and DNF representations of the Boolean function $\mathrm{maj}\colon\{0,1\}^3\to \{0,1\}$ that returns the majority value among the 3 inputs.

\end{problem}


\begin{problem}
    
    The same assignment as in Example~\ref{problem:properties-of-theories}, but for the theory $T=\{(p\wedge q)\to r, \neg r\vee(p\wedge q)\}$ in the language $\mathbb P=\{p,q,r\}$.
    
\end{problem}


\begin{problem}
    
    Prove or refute (or state the correct relationship) that for arbitrary theories $T$, $S$ over $\mathbb{P}$ the following hold:
    \begin{enumerate}[(a)]
        \item $S\subseteq T \Rightarrow \Conseq(T) \subseteq \Conseq(S)$
        \item $\Conseq(S\cup T)=\Conseq(S) \cup \Conseq(T)$
        \item $\Conseq(S\cap T)=\Conseq(S) \cap \Conseq(T)$
    \end{enumerate}

\end{problem}


\section*{For further thought}


\begin{problem}
    
    Show that $\wedge$ and $\vee$ are not sufficient to define all Boolean operators, i.e., that $\{\wedge,\vee\}$ is not a \emph{universal} set of logical connectives.

\end{problem}


\begin{problem}
    
    Consider the Boolean operator $\mathrm{IFTE}(p, q, r)$ defined as “if $p$ then $q$ else $r$”. 
    \begin{enumerate}[(a)]
        \item Construct the truth table.
        \item Show that all basic Boolean operators ($\neg, \to, \wedge,\vee,\dots$) can be expressed using IFTE and the constants TRUE and FALSE.
    \end{enumerate}

\end{problem}


\begin{problem} 
    
    Let $\mathbb P$ be a countably infinite set of propositional variables.    
    \begin{enumerate}[(a)]
        \item Show that it is no longer true that every $K\subseteq \mathrm{M}_\mathbb P$ can be axiomatized by a proposition in CNF and also by a proposition in DNF.
        \item Give an example of a set of models $K$ that cannot be axiomatized by a proposition in CNF nor by a proposition in DNF.
    \end{enumerate}

\end{problem}


\begin{problem} 
    
    Find CNF and DNF representations of $n$-ary parity, i.e., the Boolean function $\mathrm{par}\colon\{0,1\}^n\to \{0,1\}$,
    which returns the XOR of all input values:
    $$
    \mathrm{par}(x_1,\dots,x_n)=(x_1+\dots+x_n)\bmod 2
    $$
    Try it for small values of $n$.

\end{problem}


\begin{problem}

    Consider the infinite propositional theory $T=\{p_i \to p_{i+1}\mid i\in \mathbb{N}\}$ over $\mathrm{var}(T)$. 
    
    (a) Find all models of $T$. \hfill (b) Which propositions of the form $p_i \to p_j$ are consequences of $T$?    

\end{problem}
