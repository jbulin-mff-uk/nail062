\documentclass{beamer}

\input{slides-header.tex}

\title{Jedenáctá přednáška}
\subtitle{NAIL062 Výroková a predikátová logika}
\author{Jakub Bulín (KTIML MFF UK)}
% \institute{KTIML MFF UK}
\date{Zimní semestr 2024}


\begin{document}


\maketitle


\begin{frame}{Jedenáctá přednáška}

    \textbf{Program}
        \begin{itemize}            
            \item LI-rezoluce a Prolog
            \item elementární ekvivalence
            \item izomorfismus a konečné modely
            \item definovatelnost a automorfismy
            \item $\omega$-kategoricita a úplnost
        \end{itemize}

    \textbf{Materiály}

        \href{https://github.com/jbulin-mff-uk/nail062/raw/main/lecture/lecture-notes/lecture-notes.pdf}{\alert{\textbf{Zápisky z přednášky}}}, Sekce 8.7 z Kapitoly 8, Sekce 9.1-9.3 z Kapitoly 9
        %todo Prolog jako samostatná sekce?

\end{frame}


\section{8.7 LI-rezoluce}


\begin{frame}{Lineární důkaz a LI-důkaz}

    \begin{itemize}
        \item \alert{Lineární důkaz} klauzule $C$ z formule $S$ je konečná posloupnost
        $$
        \begin{bmatrix}
            C_0 \\
            B_0
        \end{bmatrix},
        \begin{bmatrix}
            C_1 \\
            B_1
        \end{bmatrix},\dots,
        \begin{bmatrix}
            C_n \\
            B_n
        \end{bmatrix},
        C_{n+1}
        $$
        kde: $B_0$ a $C_0$ jsou \myalertinline{varianty} klauzulí z $S$, $C_{n+1}=C$,
        \begin{itemize}
            \item $C_{i+1}$ je rezolventa $C_i$ a $B_i$
            \item $B_i$ \alert{varianta} klauzule z $S$ nebo $B_i=C_j$ pro nějaké $j<i$.
        \end{itemize}
        \item \alert{Lineární zamítnutí} $S$ je lineární důkaz $\square$ z $S$
        
        \item \alert{LI-důkaz} je lin. důkaz, kde vš. $B_i$ jsou varianty klauzulí z $S$
        \item $C$ \alert{LI-dokazatelná} z $S$, \alert{$S\proves_{LI}C$}, pokud existuje LI-důkaz
        \item $S$ je \alert{LI-zamítnutelná}, pokud $S\proves_{LI}\square$    
        \item korektnost (lineární i LI-rezoluce) je zřejmá
    \end{itemize}

    
\end{frame}


\begin{frame}{Úplnost LI-rezoluce pro Hornovy formule}

    \medskip

    \myblock{
    \textbf{Věta (O úplnosti lineární rezoluce):}
        $C$ má lineární důkaz z $S$, právě když má rezoluční důkaz z $S$ (tj. $S\proves_R C$).
    }

    \textbf{Důkaz:} převodem na VL (Lifting lemma zachovává linearitu) \hfill\qedsymbol

    \bigskip

    \myblock{
    \textbf{Věta (O úplnosti LI-rezoluce pro Hornovy formule):}
        Je-li Hornova formule $T$ splnitelná, a $T\cup\{G\}$ je nesplnitelná pro cíl $G$, potom $T\cup\{G\}\proves_{LI}\square$, a to LI-zamítnutím, které začíná cílem $G$.
    }
        
    \textbf{Důkaz:} úplnost ve VL + Herbrandova věta + Lifting lemma\hfill\qedsymbol

    \smallskip
    
    \begin{itemize}\small
        \item \alert{Hornova formule:} množina Hornových klauzulí
        \item \alert{Hornova klauzule:} nejvýše jeden pozitivní literál   
        \item \alert{Pravidlo:} klauzule s 1 pozitivním a alespoň 1 negativním literálem  
         
        \item \alert{Fakt:} pozitivní jednotková klauzule    
        \item \alert{Cíl:} neprázdná klauzule bez pozitivního literálu 
        \item \alert{Programové klauzule:} pravidla a fakta  
        \item \alert{Program}: Hornova formule obsahující jen programové klauzule
    \end{itemize}

\end{frame}


\begin{frame}[fragile]{Program v Prologu}

    \texttt{\small\setlength\tabcolsep{3pt}
    \begin{tabular}{lr}
        son(X,Y):-father(Y,X),man(X). 
        & 
       \alert{$\{son(X,Y),\neg father(Y,X),\neg man(X)\}$} 
        \\
        son(X,Y):-mother(Y,X),man(X).
        &
        \alert{$\{son(X,Y),\neg mother(Y,X),\neg man(X)\}$}
        \\
        man(charlie). 
        &
        \alert{$\{man(charlie)\}$}
        \\
        father(bob,charlie). 
        &
        \alert{$\{father(bob,charlie)\}$}
        \\
        mother(alice,charlie). 
        &
        \alert{$\{mother(alice,charlie)\}$}
        \\
        \\
        ?-son(charlie,X). 
        &
        \alert{$\{\neg son(charlie,X)\}$}
    \end{tabular}   
    }    

\end{frame}


\begin{frame}{LI-rezoluce v Prologu}

    Platí v programu daný \alert{existenční dotaz},  \textcolor{blue}{$P\models(\exists X)son(charlie,X)$}?

    \medskip

    \myblock{
        \textbf{Důsledek:}
        Pro program $P$ a cíl $G=\{\neg A_1,\dots,\neg A_k\}$ v proměnných $X_1,\dots,X_n$ jsou následující ekvivalentní:
        \begin{itemize}
            \item $P\models(\exists X_1)\dots(\exists X_n)(A_1\wedge\dots\wedge A_k)$
            \item $P\cup\{G\}$ má LI-zamítnutí začínající $G$
        \end{itemize}
    }

    \vspace{-2pt}
    \textbf{Důkaz:} Plyne z Důkazu sporem a Úplnosti LI-rezoluce pro Hornovy formule (Program je vždy splnitelný).\hfill\qedsymbol

    \bigskip

    Je-li odpověď na dotaz kladná, chceme znát i \alert{výstupní substituci} $\sigma$, tj. složení unifikací z rez. kroků, zúžené na proměnné v $G$. Platí:
    $$
    P\models(A_1\wedge\dots\wedge A_k)\sigma
    $$

\end{frame}


\begin{frame}{Příklady}

    \myexampleinline{\texttt{?-son(charlie,X).}}

    \bigskip

    \hspace*{-1.13cm}\scalebox{0.82}{\begin{forest}
        for tree={math content,grow=west,l sep=5pt}
        [{\square}
            [,phantom]
            [{\{\neg father(X,c)\}}
                [,phantom]
                [{\{\neg father(X,c),\neg man(c)\}}
                    [,phantom]
                    [{\alert{\{\neg son(c,X)\}}}]
                    [{\{son(X',Y'),\neg father(Y',X'),\neg man(X')\}}, label=below:{\textcolor{blue}{$\{X'/c,Y'/X\}$}}]
                ]
                [{\{man(c)\}}, label=below:{\textcolor{blue}{$\emptyset$}}]                    
            ]
            [{\{father(b,c)\}}, label=below:{\textcolor{blue}{$\{X/b\}$}}]
        ]
    \end{forest}
    }

    \myexampleinline{\texttt{X=bob}} \qquad výstupní substituce \textcolor{blue}{$\sigma=\{X/b\}$}

    \bigskip

    \hspace*{-1.23cm}\scalebox{0.82}{
    \begin{forest}
        for tree={math content,grow=west,l sep=3pt}
        [{\square}
            [,phantom]
            [{\{\neg mother(X,c)\}}
                [,phantom]
                [{\{\neg mother(X,c),\neg man(c)\}}
                    [,phantom]
                    [{\alert{\{\neg son(c,X)\}}}]
                    [{\{son(X',Y'),\neg mother(Y',X'),\neg man(X')\}}, label=below:{\textcolor{blue}{$\{X'/c,Y'/X\}$}}]
                ]
                [{\{man(c)\}}, label=below:{\textcolor{blue}{$\emptyset$}}]                    
            ]
            [{\{mother(a,c)\}}, label=below:{\textcolor{blue}{$\{X/a\}$}}]
        ]
    \end{forest}
    }

    \myexampleinline{\texttt{X=alice}} \qquad výstupní substituce \textcolor{blue}{$\sigma=\{X/a\}$}

\end{frame}


\section{ČÁST III -- POKROČILÉ PARTIE}


\section{\sc Kapitola 9: Teorie modelů}


\begin{frame}{Teorie modelů}

    \begin{itemize}
        \item vztah mezi vlastnostmi teorií a tříd jejich modelů
        \item bližší matematice než informatice a aplikacím
        \item jen několik vybraných dostupných výsledků
        \item[+] co je třeba pro Gödelovy věty (Kapitola 10)
        \item[+] co se nevešlo jinam 
    \end{itemize}

\end{frame}


\section{9.1 Elementární ekvivalence}


\begin{frame}{Teorie struktury}

    \myblock{
        \alert{Teorie struktury} $\A$ (v jazyce $L$):
        $$
        \Th(\A)=\{\varphi\mid\varphi\text{ je $L$-sentence a }\A\models\varphi\}
        $$
    }

    \medskip

    Např.  pro \myexampleinline{standardní model aritmetiky} $\underline{\mathbb{N}}=\langle\mathbb{N},S,+,\cdot,0,\le\rangle$ říkáme $\Th(\underline{\mathbb{N}})$ \alert{aritmetika přirozených čísel}, je \alert{nerozhodnutelná} (neexistuje algoritmus, který pro každou $\varphi$ doběhne a odpoví, zda $T\models\varphi$)

    \medskip

    \textbf{Pozorování:} Nechť $\A$ je $L$-struktura a $T$ je $L$-teorie.
    \begin{itemize}
        \item $\Th(\A)$ je kompletní teorie
        \item $\A\in\M_L(T)$ $\Rightarrow$ $\Th(\A)$ je (kompletní) jednoduchá extenze $T$
        \item $\A\in\M_L(T)$, $T$ kompletní $\Rightarrow$ $\Th(\A)=\Conseq_L(T)\sim T$
    \end{itemize}

\end{frame}


\begin{frame}{Elementární ekvivalence}
    
    \myblock{
        $L$-struktury $\A$ a $\B$ jsou \alert{elementárně ekvivalentní} (\alert{$\A\equiv \B$}), pokud v nich platí tytéž $L$-sentence, neboli: \myalertinline{ 
            $\A\equiv\B\ \Leftrightarrow\ \Th(\A)=\Th(\B)$ 
        }
    }

    \bigskip

    Například pro \myexampleinline{
        $\langle\mathbb R,\leq\rangle$, 
        $\langle\mathbb Q,\leq\rangle$,
        $\langle\mathbb Z,\leq\rangle$
    }
    \begin{itemize}
        \item  \alert{$\langle\mathbb R,\leq\rangle\equiv\langle\mathbb Q,\leq\rangle$}: snadno pomocí \alert{hustoty}
        \item \alert{$\langle\mathbb Q,\leq\rangle\not\equiv\langle\mathbb Z,\leq\rangle$}: v $\langle\mathbb Z,\leq\rangle$ má každý prvek bezprostředního následníka, v $\langle\mathbb Q,\leq\rangle$ ne, tedy $\varphi\in\Th(\langle\mathbb Z,\leq\rangle)\setminus\Th(\langle\mathbb Q,\leq\rangle)$ pro následující sentenci:
        $$
        \varphi=(\forall x)(\exists y)(x\leq y\land \neg x=y\land(\forall z)(x\leq z\limplies z=x\lor y\leq z))
        $$        
    \end{itemize}

\end{frame}


\begin{frame}{Kompletní jednoduché extenze}

    \vspace{-6pt}

    Pro teorii $T$ nás hlavně zajímá, jak vypadají modely.

    \vspace{-6pt}
    \begin{itemize}
        \item $T$ je \alert{kompletní}, právě když má jediný model až na elementární ekvivalenci (všechny modely jsou elementárně ekvivalentní)
        \item Modely $T$ až na elementární ekvivalenci jednoznačně odpovídají \alert{kompletním jednoduchým extenzím} $T$, ty jsou tvaru $\Th(\A)$ pro $\A\in\M(T)$, kde $\A\equiv\B\Leftrightarrow\Th(\A)=\Th(\B)$
    \end{itemize}
    
    \myalert{Místo hledání modelů stačí najít kompletní jednoduché extenze!}

    \myblock{
    \textbf{Motivace:} ukážeme, že lze-li \alert{efektivně popsat} všechny kompletní jednoduché extenze \alert{efektivně dané} teorie, potom je \alert{rozhodnutelná}.
    }   
    
    \begin{itemize}
        \item algoritmus, který pro vstup $(i,j)$ vypíše $j$-tý axiom $i$-té kompletní jednoduché extenze (v nějakém očíslování)
        \item algoritmus, který postupně vygeneruje všechny axiomy teorie
    \end{itemize}

    Schopnost efektivně popsat kompletní jedn. extenze je vzácná, vyžaduje silné předpoklady, ale u mnoha důležitých teorií to lze. 

\end{frame}


\begin{frame}{Příklad: DeLO*}

    \myexample{
        Teorie \alert{hustého lin. uspořádání (DeLO*)}  je extenze teorie uspořádání o \alert{linearitu} (\alert{dichotomii}), \alert{hustotu}, a někdy se přidává \alert{netrivialita}: 
        \begin{itemize}
            \item $x\leq y\lor y\leq x$
            \item ${x\leq y}\land{\neg\,x=y}\limplies(\exists z)(x\leq z\land z\leq y\land\neg\,z=x\land\neg\,z=y)$
            \item $(\exists x)(\exists y)(\neg\,x=y)$
        \end{itemize}        
    }

    \myblock{
        \textbf{Tvrzení:} Buď $\varphi=(\exists x)(\forall y)(x\leq y)$ a $\psi=(\exists x)(\forall y)(y\leq x)$. Následující jsou právě všechny kompletní jednoduché extenze DeLO* (až na ekvivalenci):
        \begin{columns}\small
            \begin{column}{0.5\textwidth}
                \begin{itemize}
                    \item $\DeLO = \DeLO^*\ \cup \ \{\neg\varphi
                    ,\neg\psi\}$
                    \item $\DeLO^+ = \DeLO^*\ \cup \ \{\neg\varphi
                    ,\psi\}$                    
                \end{itemize}
            \end{column}
            \begin{column}{0.5\textwidth}
                \begin{itemize}                   
                    \item $\DeLO^- = \DeLO^*\ \cup \ \{\varphi
                    ,\neg\psi\}$
                    \item $\DeLO^\pm = \DeLO^*\ \cup \ \{\varphi
                    ,\psi\}$        
                \end{itemize}
            \end{column}
        \end{columns}
    }

    Stačí ukázat, že jsou kompletní. Potom už je zřejmé, že žádná další kompletní jednoduchá extenze DeLO* nemůže existovat.\\  
    Jak ukážeme, kompletnost plyne z faktu, že jsou \alert{$\omega$-kategorické}, tj. mají jediný spočetný model až na \alert{izomorfismus}.
        
\end{frame}


\begin{frame}{Důsledky Löwenheim-Skolemovy věty bez rovnosti}

    Připomeňme:

    \smallskip

    \myblock{
        \textbf{Věta (L.-S. bez rovnosti):} 
        Ve spočetném jazyce bez rovnosti má každá bezesporná teorie spočetně nekonečný model.
    }

    \medskip

    Jednoduchý důsledek:

    \smallskip

    \myblock{
        \textbf{Důsledek:}
    Je-li $L$ spočetný bez rovnosti, potom ke každé $L$-struktuře existuje elementárně ekvivalentní spočetně nekonečná struktura.
    }

    \textbf{Důkaz:} $\Th(\A)$ je bezesporná (má model $\A$), tedy dle L.-S. věty má spočetně nekonečný model $\B\models\Th(\A)$, to znamená $\B\equiv\A$.\hfill\qedsymbol

    \medskip

    Bez rovnosti tedy nelze vyjádřit např. \myexampleinline{`model má právě 42 prvků'}.

\end{frame}


\begin{frame}{Důsledky Löwenheim-Skolemovy věty s rovností}

    V důkazu L.-S. věty máme kanonický model pro bezespornou větev tabla z $T$ pro $\F\bot$; pro jazyk s rovností stačí faktorizovat dle $=^A$:

    \smallskip

    \myblock{
        \textbf{Věta (L.-S. s rovností):}
        Ve spočetném jazyce s rovností má každá bezesporná teorie spočetný model (konečný, nebo nekonečný).
    }

    \medskip

    I tato verze má snadný důsledek pro konkrétní struktury:

    \smallskip

    \myblock{
        \textbf{Důsledek:}
        Je-li $L$ spočetný s rovností, ke každé \alert{nekonečné} $L$-struktuře existuje elem. ekvivalentní spočetně nekonečná struktura.
    }

    \smallskip

    \textbf{Důkaz:}
    Mějme nekonečnou $L$-strukturu $\A$. Podobně jako v důkazu Důsledku bez rovnosti najdeme \alert{spočetnou} $\B\equiv\A$. 
    
    Protože v $\A$ platí pro kažné $n\in\mathbb N$ sentence vyjadřující `existuje alespoň $n$ prvků' (což lze pomocí rovnosti snadno zapsat), platí i v $\B$, tedy $\B$ musí být nekonečná.\hfill\qedsymbol

\end{frame}


\begin{frame}{Spočetné algebraicky uzavřené těleso}

    \begin{itemize}
        \item \alert{algebraicky uzavřené} těleso: každý polynom nenulového stupně v něm má kořen
        \item $\mathbb Q$ není, $x^2-2$ nemá v $\mathbb Q$ kořen
        \item $\mathbb R$ není, $x^2+1$ nemá v $\mathbb R$ kořen
        \item $\mathbb C$ je algebraicky uzavřené, ale je nespočetné
    \end{itemize}

    Algebraickou uzavřenost vyjádříme sentencemi $\psi_n$, pro $n>0$:
    
    \myalertamsmath{
    $$
    (\forall x_{n-1})\dots(\forall x_0)(\exists y)(y^n+x_{n-1}\cdot y^{n-1}+\dots+x_1\cdot y + x_0) = 0
    $$
    }

    kde $y^k$ je zkratka za term $y\cdot y \cdot\ \cdots\ \cdot y$

    \myblock{
    \textbf{Důsledek:}
        Existuje spočetné algebraicky uzavřené těleso.
    }

    \smallskip

    \textbf{Důkaz:}
    Dle Důsledku L.S. věty (s rovností) existuje spočetně nekonečná $\A\equiv\mathbb C$. Protože $\mathbb C$ je těleso a splňuje $\psi_n$ pro všechna $n>0$, je i $\A$ algebraicky uzavřené těleso.\hfill\qedsymbol

\end{frame}


\section{9.2 Izomorfismus struktur}


\begin{frame}{Definice izomorfismu}
    
    \myblock{
        \alert{Izomorfismus} $\A$ a $\B$ (v $L=\langle\mathcal R,\mathcal F\rangle$) je bijekce $h\colon A\to B$ splňující:
    \begin{itemize}
        \item pro každý ($n$-ární) $f\in\mathcal F$ a pro všechna $a_i\in A$:
        \vspace{-6pt}
        $$
        h(f^\A(a_1,\dots,a_n))=f^\B(h(a_1),\dots,h(a_n))
        $$
        \vspace{-24pt}
        \item speciálně, je-li $c\in\mathcal F$ konstantní: $h(c^\A)=c^\B$
        \item pro každý ($n$-ární) $R\in\mathcal R$ a pro všechna $a_i\in A$:
        \vspace{-6pt}
        $$
        R^\A(a_1,\dots,a_n)\ \text{ právě když }\ R^\B(h(a_1),\dots,h(a_n))
        $$
        \vspace{-24pt}
    \end{itemize}
    Existuje-li, jsou \alert{izomorfní} (`\alert{via $h$}'), \alert{$\A\simeq\B$} (nebo \alert{$\A\simeq_h\B$}).\\
    \alert{Automorfismus} $\A$ je izomorfismus $\A$ a $\A$.
    }
    \vspace{-6pt}
    \begin{itemize}
        \item tj. liší se jen `pojmenováním prvků'
        \item relace `být izomorfní' je ekvivalence
        \item např. potenční algebra \myexampleinline{\small
            $\underline{\mathcal P(X)}=\langle \mathcal P(X),-,\cap,\cup,\emptyset,X\rangle$
         }, $|X|=n$, je izomorfní s {\small $\underline{2^n}=\langle \{0,1\}^n,-_n,\land_n,\lor_n,(0,\dots,0),(1,\dots,1)\rangle$} (operace po složkách) via \alert{$h(A)=\chi_A$} (charakt. vektor $A\subseteq X$)
    \end{itemize}

\end{frame}


\begin{frame}{Izomorfismus zachovává sémantiku \& vztah $\simeq$ a $\equiv$}
        
    \myblock{
        \textbf{Tvrzení:} Bijekce $h\colon A\to B$ je izomorfismus $\A$ a $\B$, právě když:
        \begin{enumerate}[(i)]
            \item pro každý term $t$ a $e:\Var\to A$:\hfill
            \alert{$h(t^\A[e])=t^\B[e\circ h]$}
            \item pro každou $\varphi$ a $e:\Var\to A$:\hfill
            \alert{$\A\models\varphi[e]\Leftrightarrow\B\models\varphi[e\circ h]$}
        \end{enumerate}
    }

    \textbf{Důkaz:} \alert{\Large$\Rightarrow$} snadno indukcí podle struktury termu resp. formule

    \alert{\Large$\Leftarrow$} je-li $h$ bijekce splňující (i)\&(ii), dosazení $t=f(x_1,\dots,x_n)$ resp. $\varphi=R(x_1,\dots,x_n)$ dává vlastnosti z definice izomorfismu \hfill\qedsymbol

    \myblock{
        \textbf{Důsledek:} 
        $\A\simeq\B\ \Rightarrow\ \A\equiv\B$.
    }
    \textbf{Důkaz:} pro každou sentenci $\varphi$ máme z (ii) $\A\models\varphi\Leftrightarrow\B\models\varphi$\hfill\qedsymbol
    
    Naopak obecně ne, \myexampleinline{
        $\langle\mathbb Q,\leq \rangle\equiv\langle\mathbb R,\leq\rangle$, $\langle\mathbb Q,\leq \rangle\not\simeq \langle \mathbb R,\leq\rangle$
    } Platí ale:

    \myblock{\textbf{Tvrzení:}
        Jsou-li $\A,\B$ konečné v jazyce s rovností, potom
        \vspace{-9pt}
        $$
        \A\simeq\B\ \Leftrightarrow\ \A\equiv\B
        $$
        \vspace{-20pt}        
    }

    \myblock{
        \textbf{Důsledek}
        Pokud má kompletní teorie v jazyce s rovností konečný model, potom jsou všechny její modely izomorfní.
    }   
    
\end{frame}


\begin{frame}{Důkaz $\equiv\ \Rightarrow\ \simeq$ pro konečné struktury s rovností}
    
    \vspace{-6pt}
    Díky $=$ vyjádříme ``existuje právě $n$ prvků'', z toho plyne \alert{$|A|=|B|$}.    
    Buď $\A'$ expanze $\A$ o jména prvků, v jazyce $L'=L\cup\{c_a\mid a\in A\}$. Ukážeme, že $\B$ \alert{lze expandovat} na $L'$-strukturu $\B$ \alert{tak, že $\A'\equiv \B'$}.     
    Potom je \alert{$h(a)= c_a^{\B'}$} izomorfismus $\A'$ a $\B'$, i pro $L$-redukty $\A\simeq\B$.
    
    Stačí ukázat, že \alert{pro $c_a^{\A'}=a\in A$ existuje $b\in B$} tak, že expanze o interpretaci konstantního symbolu $c_a$ splňují \alert{$\langle \A,a\rangle\equiv\langle\B,b\rangle$}. 
    
    Buď $\Omega$ množina `\alert{vlastností prvku $a$}', tj. formulí $\varphi(x)$ splňujících $\langle \A,a\rangle \models \varphi(x/c_a)$, neboli $\A\models \varphi[e(x/a)]$. Protože je $A$ konečná, existuje \alert{konečně mnoho $\varphi_1(x),\dots,\varphi_m(x)$} tak, že pro každou $\varphi \in \Omega$ existuje $i$ takové, že $\A\models \varphi\liff\varphi_i$. Potom i $\B\models\varphi\liff\varphi_i$. %(neboť $\A\equiv\B$, stačí vzít generální uzávěr, což je sentence).
        
        Protože v $\A$ platí sentence \alert{$(\exists x)\bigwedge_{i=1}^m\varphi_i$} (je splněna díky $a\in A$) a $\B\equiv\A$, máme i $\B\models (\exists x)\bigwedge_{i=1}^m\varphi_i$. Neboli existuje $b\in B$ takové, že $\B\models \bigwedge_{i=1}^m\varphi_i[e(x/b)]$. Tedy pro každou $\varphi\in \Omega$ platí $\B\models \varphi[e(x/b)]$, tj. $\langle\mathcal{B},b\rangle\models \varphi(x/c_a)$, z toho $\langle \A,a\rangle\equiv\langle\B,b\rangle$.\hfill\qedsymbol

\end{frame}


\begin{frame}{Definovatelnost a automorfismy}

    definovatelné množiny jsou \alert{invariantní} na automorfismy (např. automorfismus grafu musí zobrazit trojúhelník na trojúhelník):

    \medskip

    \myblock{
        \textbf{Tvrzení:}
        Je-li $D\subseteq A^n$ definovatelná v $\A$, potom pro každý automorfismus $h\in\Aut(\A)$ platí $h[D]=D$ (kde $h[D]$ značí $\{(h(\overline{a})\mid\overline{a}\in D\}$).
    
        Je-li definovatelná s parametry $\overline{b}$, platí to pro automorfismy identické na $\overline{b}$ (tj. $h(\overline{b})=\overline{b}$ neboli $h(b_i)=b_i$ pro všechna $i$).
    }

    \textbf{Důkaz:}
    Ukážeme jen verzi s parametry. Nechť $D=\varphi^{\A,\overline{b}}(\overline{x},\overline{y})$. Potom pro každé $\overline{a}\in A^n$ platí následující ekvivalence:
    \begin{align*}
    \overline{a}\in D\ 
    &\Leftrightarrow\ \A\models \varphi[e(\overline{x}/\overline{a},\overline{y}/\overline{b})]\\
    &\Leftrightarrow\  \A\models \varphi[(e\circ h)(\overline{x}/\overline{a},\overline{y}/\overline{b})]\\
    &\Leftrightarrow\ \A\models \varphi[e(\overline{x}/h(\overline{a}),\overline{y}/h(\overline{b}))]\\
    &\Leftrightarrow\ \A\models \varphi[e(\overline{x}/h(\overline{a}),\overline{y}/\overline{b})]\\
    &\Leftrightarrow\ h(\overline{a})\in D.
    \end{align*}

    \vspace{-0.85cm}
    \hfill\qedsymbol    

\end{frame}


\begin{frame}{Příklad}

    \vspace{6pt}

    \begin{columns}

        \begin{column}{0.8\textwidth}            
            Množiny definovatelné s parametrem $0$, $\mathrm{Df}^1(\mathcal G,\{0\})$? Jediný netriviální automorfismus zachovávající $0$: \alert{$h(i)=(5-i) \bmod 5$}, orbity $\{0\}$, $\{1,4\}$, a $\{2,3\}$. Tyto množiny jsou definovatelné:            
        \end{column} 

        \begin{column}{0.2\textwidth}            
            \begin{tikzpicture}[every node/.style={circle,fill=blue!10,draw,minimum size=0.4cm,node distance=1cm}]
                \node (1) {$1$};
                \node[below left of=1](0) {$0$};
                \node[below right of=0] (4) {$4$};
                \node[right of=4] (3) {$2$};
                \node[right of=1] (2) {$3$};
                \path[draw] (0) -- (1) -- (2) -- (3) -- (4) -- (0);
            \end{tikzpicture}                        
        \end{column}

    \end{columns}

    \begin{itemize}
        \item $\{0\}$ formulí $x=y$, tj. $(x=y)^{\mathcal G,\{0\}}=\{0\}$
        \item $\{1,4\}$ lze definovat pomocí $E(x,y)$
        \item $\{2,3\}$ formulí $\neg E(x,y)\land \neg x=y$
    \end{itemize}
    $\mathrm{Df}^1(\mathcal G,\{0\})$ je podalgebra $\underline{\mathcal P(V(\mathcal G))}$, tedy uzavřená na doplněk, sjednocení, průnik, obsahuje $\emptyset$ a $V(\mathcal G)$. Podalgebra generovaná $\{\{0\},\{1,4\},\{2,3\}\}$ už ale obsahuje všechny podmnožiny zachovávající automorfismus $h$. Dostáváme:
    \begin{align*}        
        \mathrm{Df}^1(\mathcal G,\{0\})=\{&\emptyset, \{0\}, \{1,4\}, \{2,3\}, \{0,1,4\}, \{0,2,3\}, \\ &\{1,4,2,3\}, \{0,1,2,3,4\}\}        
    \end{align*}
    
\end{frame}


\section{9.3 $\omega$-kategorické teorie}


\begin{frame}{$\omega$-kategorické teorie}

    \vspace{-8pt}
    \alert{Izomorfní spektrum} $T$ je počet modelů $T$ kardinality $\kappa$ až na $\simeq$.\\
    $T$ je \alert{$\kappa$-kategorická} pokud $I(\kappa,T)=1$, \alert{$\omega$-kategorická} má-li jediný spočetně nekonečný model až na izomorfismus.

    \vspace{-3pt}
    \myblock{
        \textbf{Tvrzení:}
        Teorie DeLO je $\omega$-kategorická.
    }
    \textbf{Důkaz:}
    Buďte $\A,\B$ spočetně nekonečné modely, $A=\{a_i\mid i\in\mathbb N\}$, $B=\{b_i\mid i\in\mathbb N\}$. Z hustoty najdeme indukcí $h_0\subseteq h_1\subseteq h_2\subseteq\dots$ prosté parciální fce z $A$ do $B$ zach. usp., $\{a_0,\dots,a_{n-1}\}\subseteq\dom h_n$, $\{b_0,\dots,b_{n-1}\}\subseteq\rng h_n$. Potom $\A\simeq\B$ via $h=\bigcup_{n\in\mathbb N}h_n$.
    \hfill\qedsymbol

    \myblock{
        \textbf{Důsledek:}
        Izomorfní spektrum teorie DeLO*:
        \vspace{-3pt}
        \begin{itemize}
            \item $I(\kappa,DeLO^*)=0$ pro $\kappa\in\mathbb{N}$
            \item $I(\omega,DeLO^*)=4$
        \end{itemize}      
        \vspace{-3pt}
        Spočetné modely až na izomorfismus jsou například:
        \vspace{-9pt}
        $$ 
        \mathbb Q=\langle \mathbb Q,\leq\rangle\simeq\mathbb Q\upharpoonright(0,1), \ \mathbb Q\upharpoonright(0,1], \ \mathbb Q \upharpoonright [0,1), \ \mathbb Q \upharpoonright [0,1]
        $$
        \vspace{-20pt}
    }
    \textbf{Důkaz:}
    Husté uspořádání nemůže být konečné. Izomorfismus zobrazí minimum na minimum a maximum na maximum.
    \hfill\qedsymbol

\end{frame}


\begin{frame}{$\omega$-kategorické kritérium kompletnosti}

    %\alert{$\omega$-kategoricita} je zeslabení pojmu \alert{kompletnosti}

    \myblock{
        \textbf{Věta:}
        Buď $T$ $\omega$-kategorická ve spočetném jazyce $L$. Je-li
        \begin{enumerate}[(i)]
            \item $L$ bez rovnosti, nebo
            \item $L$ s rovností a $T$ nemá konečné modely,
        \end{enumerate}
        potom je $T$ kompletní.
    }

    \textbf{Důkaz:}
    \alert{(i)} Důsledek L.-S. věty bez rovnosti říká, že každý model je elementárně ekvivalentní nějakému spočetně nekonečnému, ten je ale až na izomorfismus jediný.
    
    \alert{(ii)} Důsledek L.-S. věty s rovností podobně říká, že všechny nekonečné modely jsou elementárně ekvivalentní. Mohla by mít elementárně neekvivalentní konečné modely, to jsme ale zakázali. \hfill\qedsymbol

    \medskip

    \myblock{
        \textbf{Důsledek:}
        $\DeLO$, $\DeLO^+$, $\DeLO^-$, a $\DeLO^\pm$ jsou kompletní, jsou to všechny (navzájem neekvivalentní) kompletní jedn. extenze $DeLO^*$.
    }

    Analogické kritérium platí i pro kardinality $\kappa$ větší než $\omega$.

\end{frame}


\end{document}


